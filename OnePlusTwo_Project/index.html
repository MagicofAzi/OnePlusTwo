<html>
	<head>
		<title>Example App</title>
		<link rel="stylesheet" type="text/css" href="./main.css">
	</head>

	<body id='body'>
		<div id='calculator_area'>
			<input type="text" 
					name="history_2_expression_field" 
					id="history_2_expression_field"
					readonly="true" 
					size="16">
			<br>
			<input type="text" 
					name="history_1_expression_field" 
					id="history_1_expression_field"
					readonly="true" 
					size="16">
			<br>
			<input type="text" 
					name="expression_field" 
					id="main_expression_field"
					readonly="true" 
					size="18">
			<br><br>

			<div id="calc_buttons_area">
			    <br>
				<button class="calc_button" id="oneBtn">1</button>
				<button class="calc_button" id="twoBtn">2</button>
				<button class="calc_button" id="threeBtn">3</button>
				<button class="calc_button" id="fourBtn">4</button>
				<button class="calc_button" id="fiveBtn">5</button>
				<button class="calc_button" id="sixBtn">6</button>
				<button class="calc_button" id="sevenBtn">7</button>
				<button class="calc_button" id="eightBtn">8</button>
				<button class="calc_button" id="nineBtn">9</button>
				<button class="calc_button" id="zeroBtn">0</button>
				<button class="calc_button" id="posNegBtn">+/-</button>
				<button class="calc_button" id="decPntBtn">.</button>
				<button class="calc_button" id="addBtn">+</button>
				<button class="calc_button" id="subBtn">-</button>
				<button class="calc_button" id="mulBtn">x</button>
				<button class="calc_button" id="divBtn">/</button>
				<button class="calc_button" id="clearBtn">C</button>
				<button class="calc_button" id="equalBtn">=</button>
				<button class="calc_button" id="deleteBtn">Back</button>
			</div>
		</div>



		<!-- <FORM NAME="Calc">
			<TABLE BORDER=4>
			<TR>
			<TD>
			<INPUT TYPE="text"   NAME="Input" Size="16">
			<br>
			</TD>
			</TR>
			<TR>
			<TD>
			<INPUT TYPE="button" NAME="one"   VALUE="  1  " OnClick="Calc.Input.value += '1'">
			<INPUT TYPE="button" NAME="two"   VALUE="  2  " OnCLick="Calc.Input.value += '2'">
			<INPUT TYPE="button" NAME="three" VALUE="  3  " OnClick="Calc.Input.value += '3'">
			<INPUT TYPE="button" NAME="plus"  VALUE="  +  " OnClick="Calc.Input.value += ' + '">
			<br>
			<INPUT TYPE="button" NAME="four"  VALUE="  4  " OnClick="Calc.Input.value += '4'">
			<INPUT TYPE="button" NAME="five"  VALUE="  5  " OnCLick="Calc.Input.value += '5'">
			<INPUT TYPE="button" NAME="six"   VALUE="  6  " OnClick="Calc.Input.value += '6'">
			<INPUT TYPE="button" NAME="minus" VALUE="  -  " OnClick="Calc.Input.value += ' - '">
			<br>
			<INPUT TYPE="button" NAME="seven" VALUE="  7  " OnClick="Calc.Input.value += '7'">
			<INPUT TYPE="button" NAME="eight" VALUE="  8  " OnCLick="Calc.Input.value += '8'">
			<INPUT TYPE="button" NAME="nine"  VALUE="  9  " OnClick="Calc.Input.value += '9'">
			<INPUT TYPE="button" NAME="times" VALUE="  x  " OnClick="Calc.Input.value += ' * '">
			<br>
			<INPUT TYPE="button" NAME="clear" VALUE="  c  " OnClick="Calc.Input.value = ''">
			<INPUT TYPE="button" NAME="zero"  VALUE="  0  " OnClick="Calc.Input.value += '0'">
			<INPUT TYPE="button" NAME="DoIt"  VALUE="  =  " OnClick="Calc.Input.value = eval(Calc.Input.value)">
			<INPUT TYPE="button" NAME="div"   VALUE="  /  " OnClick="Calc.Input.value += ' / '">
			<br>
			</TD>
			</TR>
			</TABLE>
		</FORM> -->
	</body>

	<script type="text/javascript">

		/********************
		*					*
		*	  VARIABLES		*
		*					*
		*********************/

		// The main input field.
		const history2Field = document.getElementById('history_2_expression_field');
		const history1Field = document.getElementById('history_1_expression_field');
		const mainInputField = document.getElementById('main_expression_field');

		// The numbers
		const oneBtn = document.getElementById('oneBtn');
		const twoBtn = document.getElementById('twoBtn');
		const threeBtn = document.getElementById('threeBtn');
		const fourBtn = document.getElementById('fourBtn');
		const fiveBtn = document.getElementById('fiveBtn');
		const sixBtn = document.getElementById('sixBtn');
		const sevenBtn = document.getElementById('sevenBtn');
		const eightBtn = document.getElementById('eightBtn');
		const nineBtn = document.getElementById('nineBtn');
		const zeroBtn = document.getElementById('zeroBtn');

		// The operators and other buttons
		const positiveNegativeBtn = document.getElementById('posNegBtn');
		const decimalPointBtn = document.getElementById('decPntBtn');
		const addBtn = document.getElementById('addBtn');
		const subtractBtn = document.getElementById('subBtn');
		const multiplyBtn = document.getElementById('mulBtn');
		const divideBtn = document.getElementById('divBtn');
        const clearBtn = document.getElementById('clearBtn');
        const equalBtn = document.getElementById('equalBtn');
        const deleteBtn = document.getElementById('deleteBtn');


		/********************
		*					*
		*	  FUNCTIONS		*
		*					*
		*********************/

		document.getElementById('body').onkeypress = (e) => {
			if(e.metakey || e.ctrlKey) {
				if(e.keyCode === 67) {
					mainInputField.select();
					document.execCommand('copy', false);
				} else if(e.keyCode === 86) {
					document.execCommand('paste', false);
				}
			}
		}

		function checkZero() {
			if(mainInputField.value === "0") return true;
			else return false;
		}

		oneBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "1";
			else mainInputField.value += "1";
		}

		twoBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "2";
			else mainInputField.value += "2";
		}

		threeBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "3";
			else mainInputField.value += "3";
		}

		fourBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "4";
			else mainInputField.value += "4";
		}

		fiveBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "5";
			else mainInputField.value += "5";
		}

		sixBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "6";
			else mainInputField.value += "6";
		}

		sevenBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "7";
			else mainInputField.value += "7";
		}

		eightBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "8";
			else mainInputField.value += "8";
		}

		nineBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "9";
			else mainInputField.value += "9";
		}

		zeroBtn.onclick = function() {
			if(mainInputField.value !== "0" && mainInputField.value !== "-0") {
				mainInputField.value += "0";
			}
		}

		positiveNegativeBtn.onclick = function() {
            if(mainInputField.value.substring(0,1) == "-") {
                mainInputField.value = mainInputField.value.substring( 1, mainInputField.length);
            }
            else if(mainInputField.value.substring(0,0) != "-") {
                mainInputField.value = "-" + mainInputField.value;
            }
            
		}

		decimalPointBtn.onclick = function() {
            mainInputField.value += ".";
		}

		addBtn.onclick = function() {
			mainInputField.value += "+";
		}

		subtractBtn.onclick = function() {
			mainInputField.value += "-";
		}

		multiplyBtn.onclick = function() {
			mainInputField.value += "*";
		}

		divideBtn.onclick = function() {
			mainInputField.value += "/";
		}
        
        clearBtn.onclick = function() {
            mainInputField.value = "0";
        }

        equalBtn.onclick = function() {
        	if(mainInputField.value === "") return;
        	if(mainInputField.value === "0") return;

            var val = eval(mainInputField.value);
            
        	// Set the second history field to the first one 
        	history2Field.value = history1Field.value;

        	// Set the first history field to the main input.
        	history1Field.value = mainInputField.value + "=" + val;

            mainInputField.value = val;
        }

        deleteBtn.onclick = function() {
            var temp = mainInputField.value.substring(0, mainInputField.value.length - 1);
            mainInputField.value = temp;
        }


	</script>
</html>
