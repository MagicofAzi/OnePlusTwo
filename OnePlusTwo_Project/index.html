<html>
	<head>
		<title>Example App</title>
		<link rel="stylesheet" type="text/css" href="./main.css">
	</head>

	<body id='body'>
		<div id='calculator_area'>
			<div id='title'>
				ONE<span style="color:#D84464; font-weight: 200;">PLUS</span>TWO
			</div>
			<input type="text"
					name="history_2_expression_field"
					id="history_2_expression_field"
					readonly="true"
					size="16">
			<br>
			<input type="text"
					name="history_1_expression_field"
					id="history_1_expression_field"
					readonly="true"
					size="16">
			<br>
			<input type="text"
					name="expression_field"
					id="main_expression_field"
					readonly="true"
					size="18">
			<br><br>

			<div id="calc_buttons_area">
			    <br>
			    <button class="calc_button" id="clearBtn">AC</button>
			    <button class="calc_button" id="percentBtn">%</button>
			    <button class="calc_button" id="deleteBtn">CE</button>
					<button class="calc_button" id="sevenBtn">7</button>
					<button class="calc_button" id="eightBtn">8</button>
					<button class="calc_button" id="nineBtn">9</button>
          <button class="calc_button" id="fourBtn">4</button>
					<button class="calc_button" id="fiveBtn">5</button>
					<button class="calc_button" id="sixBtn">6</button>
          <button class="calc_button" id="oneBtn">1</button>
					<button class="calc_button" id="twoBtn">2</button>
					<button class="calc_button" id="threeBtn">3</button>
					<button class="calc_button" id="posNegBtn">+/-</button>
					<button class="calc_button" id="zeroBtn">0</button>
					<button class="calc_button" id="decPntBtn">.</button>
			</div>
			<div id="computation_area">
					<button class="comp_button" id="divBtn">/</button>
					<button class="comp_button" id="mulBtn">x</button>
					<button class="comp_button" id="subBtn">-</button>
					<button class="comp_button" id="addBtn">+</button>
					<button class="comp_button" id="equalBtn">=</button>
			</div>
		</div>
	</body>

	<script type="text/javascript">

		/********************
		*					*
		*	  VARIABLES		*
		*					*
		*********************/

		// The main input field.
		const history2Field = document.getElementById('history_2_expression_field');
		const history1Field = document.getElementById('history_1_expression_field');
		const mainInputField = document.getElementById('main_expression_field');

		// The numbers
		const oneBtn = document.getElementById('oneBtn');
		const twoBtn = document.getElementById('twoBtn');
		const threeBtn = document.getElementById('threeBtn');
		const fourBtn = document.getElementById('fourBtn');
		const fiveBtn = document.getElementById('fiveBtn');
		const sixBtn = document.getElementById('sixBtn');
		const sevenBtn = document.getElementById('sevenBtn');
		const eightBtn = document.getElementById('eightBtn');
		const nineBtn = document.getElementById('nineBtn');
		const zeroBtn = document.getElementById('zeroBtn');

		// The operators and other buttons
		const positiveNegativeBtn = document.getElementById('posNegBtn');
		const decimalPointBtn = document.getElementById('decPntBtn');
		const addBtn = document.getElementById('addBtn');
		const subtractBtn = document.getElementById('subBtn');
		const multiplyBtn = document.getElementById('mulBtn');
		const divideBtn = document.getElementById('divBtn');
    const clearBtn = document.getElementById('clearBtn');
    const equalBtn = document.getElementById('equalBtn');
    const deleteBtn = document.getElementById('deleteBtn');
		const percentBtn = document.getElementById('percentBtn');


		/********************
		*					*
		*	  FUNCTIONS		*
		*					*
		*********************/

		document.getElementById('body').onkeypress = (e) => {
			if(e.metakey || e.ctrlKey) {
				if(e.keyCode === 67) {
					mainInputField.select();
					document.execCommand('copy', false);
				} else if(e.keyCode === 86) {
					document.execCommand('paste', false);
				}
			}
		}

		function checkZero() {
			if(mainInputField.value === "0") return true;
			else return false;
		}

		oneBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "1";
			else mainInputField.value += "1";
		}

		twoBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "2";
			else mainInputField.value += "2";
		}

		threeBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "3";
			else mainInputField.value += "3";
		}

		fourBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "4";
			else mainInputField.value += "4";
		}

		fiveBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "5";
			else mainInputField.value += "5";
		}

		sixBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "6";
			else mainInputField.value += "6";
		}

		sevenBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "7";
			else mainInputField.value += "7";
		}

		eightBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "8";
			else mainInputField.value += "8";
		}

		nineBtn.onclick = function() {
			if(checkZero()) mainInputField.value = "9";
			else mainInputField.value += "9";
		}

		zeroBtn.onclick = function() {
			if(mainInputField.value !== "0" && mainInputField.value !== "-0") {
				mainInputField.value += "0";
			}
		}

		positiveNegativeBtn.onclick = function() {
            if(mainInputField.value.substring(0,1) == "-") {
                mainInputField.value = mainInputField.value.substring( 1, mainInputField.length);
            }
            else if(mainInputField.value.substring(0,0) != "-") {
                mainInputField.value = "-" + mainInputField.value;
            }

		}

		decimalPointBtn.onclick = function() {
            mainInputField.value += ".";
		}

		addBtn.onclick = function() {
			mainInputField.value += "+";
		}

		subtractBtn.onclick = function() {
			mainInputField.value += "-";
		}

		multiplyBtn.onclick = function() {
			mainInputField.value += "*";
		}

		divideBtn.onclick = function() {
			mainInputField.value += "/";
		}

        clearBtn.onclick = function() {
            mainInputField.value = "";
        }

        equalBtn.onclick = function() {
        	if(mainInputField.value === "") return;
        	if(mainInputField.value === "0") return;

            var val = eval(mainInputField.value);

        	// Set the second history field to the first one
        	history2Field.value = history1Field.value;

        	// Set the first history field to the main input.
        	history1Field.value = mainInputField.value + "=" + val;

            mainInputField.value = val;
        }

        deleteBtn.onclick = function() {
            var temp = mainInputField.value.substring(0, mainInputField.value.length - 1);
            mainInputField.value = temp;
        }

				percentBtn.onclick = function() {
					mainInputField.value += "%";
				}

	</script>
</html>
